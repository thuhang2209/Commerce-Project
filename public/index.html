<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Phone Store Management</title>
    <link rel="stylesheet" href="style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
  </head>
  <body>
    <!-- Header / Navbar -->
    <header>
      <div class="logo">
        <i class="fa-solid fa-mobile-screen-button"></i> PHONE STORE
      </div>
      <div class="nav-buttons">
        <button onclick="toggleCart()" class="btn-cart relative">
          <i class="fa-solid fa-cart-shopping"></i>
          <span id="cart-count" class="badge">0</span>
        </button>
        <button onclick="toggleView()" class="btn-admin">
          <i class="fa-solid fa-user-gear"></i> Admin
        </button>
      </div>
    </header>

    <main class="container">
      <!-- VIEW: KH√ÅCH H√ÄNG (M·∫∑c ƒë·ªãnh hi·ªÉn th·ªã) -->
      <section id="customer-view">
        <div class="section-header">
          <h2>üì± S·∫£n Ph·∫©m M·ªõi Nh·∫•t</h2>
          <div class="search-box">
            <input
              type="text"
              id="search-input"
              placeholder="T√¨m ki·∫øm ƒëi·ªán tho·∫°i..."
              onkeyup="searchProduct()"
            />
          </div>
        </div>

        <div id="loading" class="text-center hidden">
          <i class="fa-solid fa-spinner fa-spin"></i> ƒêang t·∫£i d·ªØ li·ªáu t·ª´
          Server...
        </div>

        <div id="product-grid" class="grid">
          <!-- S·∫£n ph·∫©m s·∫Ω ƒë∆∞·ª£c render t·∫°i ƒë√¢y -->
        </div>
      </section>

      <!-- VIEW: ADMIN (M·∫∑c ƒë·ªãnh ·∫©n) -->
      <section id="admin-view" class="hidden">
        <div class="section-header">
          <h2>üõ†Ô∏è Trang Qu·∫£n Tr·ªã</h2>
          <button onclick="fetchReports()" class="btn-refresh">
            <i class="fa-solid fa-rotate-right"></i> L√†m m·ªõi b√°o c√°o
          </button>
        </div>

        <!-- B√°o c√°o th·ªëng k√™ (G·ªçi API /api/reports) -->
        <div id="reports-panel" class="stats-grid">
          <!-- D·ªØ li·ªáu b√°o c√°o s·∫Ω hi·ªán ·ªü ƒë√¢y -->
          <p>ƒêang t·∫£i b√°o c√°o...</p>
        </div>

        <div class="admin-layout">
          <!-- Form Th√™m m·ªõi -->
          <div class="card form-card">
            <h3>Th√™m ƒêi·ªán Tho·∫°i M·ªõi</h3>
            <form id="add-form">
              <div class="form-group">
                <label>T√™n s·∫£n ph·∫©m</label>
                <input
                  type="text"
                  id="p-name"
                  required
                  placeholder="VD: iPhone 15 Pro"
                />
              </div>
              <div class="form-group">
                <label>H√£ng s·∫£n xu·∫•t</label>
                <input
                  type="text"
                  id="p-brand"
                  required
                  placeholder="VD: Apple"
                />
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label>Gi√° (VNƒê)</label>
                  <input type="number" id="p-price" required />
                </div>
                <div class="form-group">
                  <label>S·ªë l∆∞·ª£ng kho</label>
                  <input type="number" id="p-qty" required />
                </div>
              </div>
              <button type="submit" class="btn-success width-full">
                <i class="fa-solid fa-plus"></i> L∆∞u S·∫£n Ph·∫©m
              </button>
            </form>
          </div>

          <!-- Danh s√°ch qu·∫£n l√Ω -->
          <div class="card list-card">
            <h3>Kho H√†ng (Database)</h3>
            <div class="table-responsive">
              <table class="table">
                <thead>
                  <tr>
                    <th>T√™n</th>
                    <th>Gi√°</th>
                    <th>Kho</th>
                    <th>H√†nh ƒë·ªông</th>
                  </tr>
                </thead>
                <tbody id="admin-tbody">
                  <!-- D·ªØ li·ªáu b·∫£ng admin -->
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- Modal Gi·ªè H√†ng -->
    <div id="cart-modal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h3>Gi·ªè H√†ng C·ªßa B·∫°n</h3>
          <span onclick="toggleCart()" class="close-btn">&times;</span>
        </div>
        <div id="cart-items" class="modal-body">
          <p class="empty-cart">Gi·ªè h√†ng tr·ªëng</p>
        </div>
        <div class="modal-footer">
          <div class="total-price">T·ªïng: <span id="cart-total">0 ‚Ç´</span></div>
          <button onclick="checkout()" class="btn-primary width-full">
            Thanh To√°n
          </button>
        </div>
      </div>
    </div>

    <!-- Th√¥ng b√°o (Toast) -->
    <div id="toast"></div>

    <script src="script.js"></script>
  </body>
</html>
